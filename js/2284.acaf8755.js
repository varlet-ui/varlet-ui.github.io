(self.webpackChunk_varlet_ui=self.webpackChunk_varlet_ui||[]).push([[2284],{629:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(641).qj)({locks:{},zIndex:2e3,touchmoveForbid:!0})},2370:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>O});var r=n(1260),o=n.n(r),i=n(7276),a=n(8322);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c="background-image",u="lazy-loading",s="lazy-error",d="lazy-attempt",p="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",v=[],f=[],g=(0,a.Df)(100),h={loading:p,error:p,attempt:3,throttleWait:300,events:["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"]},m=(0,a.P2)(j,h.throttleWait),y=null,b=(0,a._G)();function w(t,e){t._lazy.arg===c?t.style.backgroundImage="url(".concat(e,")"):t.setAttribute("src",e),t._lazy.state="success",k(t),!b&&j()}function A(t){var e;f.includes(t)||(f.push(t),null===(e=h.events)||void 0===e||e.forEach((function(e){t.addEventListener(e,m,{passive:!0})})))}function _(t){if(!0!==t._lazy.attemptLock){t._lazy.attemptLock=!0,t._lazy.currentAttempt++;var e=t._lazy.src;if(g.has(e))return w(t,e),void(t._lazy.attemptLock=!1);!function(t){t._lazy.loading&&(t._lazy.arg===c?t.style.backgroundImage="url(".concat(t._lazy.loading,")"):t.setAttribute("src",t._lazy.loading)),!b&&j()}(t),function(t,e){var n=new Image;n.src=e,n.addEventListener("load",(function(){t._lazy.attemptLock=!1,g.add(e),w(t,e)})),n.addEventListener("error",(function(){t._lazy.attemptLock=!1,t._lazy.currentAttempt>=t._lazy.attempt?function(t){t._lazy.error&&(t._lazy.arg===c?t.style.backgroundImage="url(".concat(t._lazy.error,")"):t.setAttribute("src",t._lazy.error)),t._lazy.state="error",k(t),!b&&j()}(t):_(t)}))}(t,e)}}function z(t){(0,i.UD)(t)&&_(t)}function j(){v.forEach((function(t){return z(t)}))}function k(t){var e;b?null===(e=y)||void 0===e||e.unobserve(t):((0,a.cl)(v,t),0===v.length&&(f.forEach((function(t){var e;null===(e=h.events)||void 0===e||e.forEach((function(e){t.removeEventListener(e,m)}))})),f=[]))}function E(t,e){!t.getAttribute("src")&&t.setAttribute("src",p),function(t,e){var n,r,i,a={loading:null!==(n=t.getAttribute(u))&&void 0!==n?n:h.loading,error:null!==(r=t.getAttribute(s))&&void 0!==r?r:h.error,attempt:t.getAttribute(d)?Number(t.getAttribute(d)):h.attempt};t._lazy=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({src:e.value,arg:e.arg,currentAttempt:0,state:"pending",attemptLock:!1},a),null===(i=h.filter)||void 0===i||i.call(h,t._lazy)}(t,e),b?function(t){y||(y=(0,a.k_)((function(t){return _(t)}))),y.unobserve(t),y.observe(t)}(t):(A(window),A((0,i.Ak)(t)),z(t))}const O={mounted:E,unmounted:function(t){k(t)},updated:function(t,e){!function(t,e){var n=t._lazy,r=n.src,o=n.arg,i=n.attempt,a=n.loading,l=n.error;return r!==e.value||o!==e.arg||i!==Number(t.getAttribute(d))||a!==t.getAttribute(u)||l!==t.getAttribute(s)}(t,e)?!b&&v.includes(t)&&z(t):E(t,e)},install:function(t,e){!function(t){var e,n,r,o,i;h.events=null!==(e=t.events)&&void 0!==e?e:h.events,h.loading=null!==(n=t.loading)&&void 0!==n?n:h.loading,h.error=null!==(r=t.error)&&void 0!==r?r:h.error,h.attempt=null!==(o=t.attempt)&&void 0!==o?o:h.attempt,h.throttleWait=null!==(i=t.throttleWait)&&void 0!==i?i:h.throttleWait,h.filter=t.filter}(e),m=(0,a.P2)(j,h.throttleWait),t.directive("lazy",this)}}},4793:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g});var r=n(1260),o=n.n(r),i=n(629),a=n(6062),l=n.n(a),c=n(526);l()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var u=n(4352);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t){var e=this,n=this._ripple;n.removeRipple(),n.disabled||n.tasker||(n.tasker=window.setTimeout((function(){var r;n.tasker=null;var o,i,a,l,c=function(t,e){var n=t.getBoundingClientRect(),r=n.top,o=n.left,i=t.clientWidth,a=t.clientHeight,l=Math.sqrt(Math.pow(i,2)+Math.pow(a,2))/2,c=2*l;return{x:e.touches[0].clientX-o-l,y:e.touches[0].clientY-r-l,centerX:(i-2*l)/2,centerY:(a-2*l)/2,size:c}}(e,t),u=c.x,s=c.y,d=c.centerX,p=c.centerY,v=c.size,f=document.createElement("div");f.classList.add("var-ripple"),f.style.opacity="0",f.style.transform="translate(".concat(u,"px, ").concat(s,"px) scale3d(.3, .3, .3)"),f.style.width="".concat(v,"px"),f.style.height="".concat(v,"px"),f.style.backgroundColor=null!==(r=n.color)&&void 0!==r?r:"currentColor",f.dataset.createdAt=String(performance.now()),o=e,a=(i=window.getComputedStyle(o)).zIndex,l=i.position,o.style.overflow="hidden",o.style.overflowX="hidden",o.style.overflowY="hidden","static"===l&&(o.style.position="relative"),"auto"===a&&(o.style.zIndex="1"),e.appendChild(f),window.setTimeout((function(){f.style.transform="translate(".concat(d,"px, ").concat(p,"px) scale3d(1, 1, 1)"),f.style.opacity=".25"}),20)}),60))}function v(){var t=this,e=function(){var e=t.querySelectorAll(".var-ripple");if(e.length){var n=e[e.length-1],r=300-performance.now()+Number(n.dataset.createdAt);setTimeout((function(){n.style.opacity="0",setTimeout((function(){var t;return null===(t=n.parentNode)||void 0===t?void 0:t.removeChild(n)}),300)}),r)}};this._ripple.tasker?setTimeout(e,60):e(),e()}function f(){var t=this._ripple;t.touchmoveForbid&&(t.tasker&&window.clearTimeout(t.tasker),t.tasker=null)}l()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;const g={mounted:function(t,e){var n,r,o;t._ripple=d(d({tasker:null},null!==(n=e.value)&&void 0!==n?n:{}),{},{touchmoveForbid:null!==(r=null===(o=e.value)||void 0===o?void 0:o.touchmoveForbid)&&void 0!==r?r:i.Z.touchmoveForbid,removeRipple:v.bind(t)}),t.addEventListener("touchstart",p,{passive:!0}),t.addEventListener("touchmove",f,{passive:!0}),t.addEventListener("dragstart",v,{passive:!0}),document.addEventListener("touchend",t._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",t._ripple.removeRipple,{passive:!0})},unmounted:function(t){t.removeEventListener("touchstart",p),t.removeEventListener("touchmove",f),t.removeEventListener("dragstart",v),document.removeEventListener("touchend",t._ripple.removeRipple),document.removeEventListener("touchcancel",t._ripple.removeRipple)},updated:function(t,e){var n,r,o;t._ripple=d(d(d({},t._ripple),null!==(n=e.value)&&void 0!==n?n:{}),{},{touchmoveForbid:null!==(r=null===(o=e.value)||void 0===o?void 0:o.touchmoveForbid)&&void 0!==r?r:i.Z.touchmoveForbid,tasker:null})},install:function(t){t.directive("ripple",this)}}},7276:(t,e,n)=>{"use strict";n.d(e,{vF:()=>o,cx:()=>i,IS:()=>a,UD:()=>l,Ak:()=>c,ly:()=>u,i:()=>s,uA:()=>d,aR:()=>p,U7:()=>v,Wx:()=>f,xX:()=>g});var r=n(8322);function o(t){return t.getBoundingClientRect().top+(document.body.scrollTop||document.documentElement.scrollTop)}function i(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function a(t){return t.getBoundingClientRect().left+(document.body.scrollLeft||document.documentElement.scrollLeft)}function l(t){var e=t.getBoundingClientRect(),n=e.top,r=e.bottom,o=e.left,i=e.right,a=o<window.innerWidth&&i>0,l=n<window.innerHeight&&r>0;return a&&l}function c(t,e){for(var n=t;n&&n.parentNode&&(n=n.parentNode)!==document.body&&n!==document.documentElement;){var r=/(scroll|auto)/,o=window.getComputedStyle(n),i=o.overflow,a=o.overflowX,l=o.overflowY,c=r.test(i),u=("x"===e||null==e)&&r.test(a),s=("y"===e||null==e)&&r.test(l);if(c||u||s)return n}return window}var u=function(t){return(0,r.HD)(t)&&t.endsWith("rem")},s=function(t){return(0,r.HD)(t)&&t.endsWith("px")||(0,r.hj)(t)},d=function(t){if((0,r.hj)(t))return t;if(s(t))return+t.replace("px","");if(u(t)){var e=+t.replace("rem",""),n=window.getComputedStyle(document.documentElement).fontSize;return e*parseFloat(n)}return 0},p=function(t){return null!=t?"".concat(d(t),"px"):null};function v(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.setTimeout(t,16)}function f(t){window.cancelAnimationFrame?window.cancelAnimationFrame(t):window.clearTimeout(t)}function g(t){v((function(){v(t)}))}},8322:(t,e,n)=>{"use strict";n.d(e,{He:()=>r,QM:()=>o,MW:()=>i,JC:()=>a,HD:()=>l,hj:()=>c,KG:()=>u,kJ:()=>s,PX:()=>d,xb:()=>p,cl:()=>v,P2:()=>f,_G:()=>g,k_:()=>h,Df:()=>m,qb:()=>b,Ou:()=>w,dt:()=>A});var r=function(t){return l(t)?(t=parseFloat(t),t=Number.isNaN(t)?0:t):t},o=function(t){return t.startsWith("data:image")||/\.(png|jpg|gif|jpeg|svg)$/.test(t)},i=function(t){return t.startsWith("data:video")||/\.(mp4|webm)$/.test(t)},a=function(t){return t.startsWith("data:audio")||/\.(mp3|wav|ogg|acc)$/.test(t)},l=function(t){return"string"==typeof t},c=function(t){return"number"==typeof t},u=function(t){return"[object Object]"===Object.prototype.toString.call(t)},s=function(t){return Array.isArray(t)},d=function(t){return/^(http)|(\.*\/)/.test(t)},p=function(t){return null==t||""===t||Array.isArray(t)&&!t.length},v=function(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}},f=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function o(){for(var i=this,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=Date.now();n||(n=u),e&&window.clearTimeout(e),u-n>=r?(t.apply(this,l),n=u):e=window.setTimeout((function(){o.apply(i,l)}),50)}},g=function(){return"IntersectionObserver"in window},h=function(t){return new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&t(e.target)}))}))},m=function(t){var e=[];return{cache:e,has:function(t){return e.includes(t)},add:function(n){this.has(n)||(this.cache.length===t&&e.shift(),this.cache.push(n))},remove:function(t){this.has(t)&&v(this.cache,t)}}},y=function(t){return Math.pow(t,3)},b=function(t){return t<.5?y(2*t)/2:1-y(2*(1-t))/2};function w(t,e){var n=Object.values(e),r=[24,60,60,1e3];if(["DD","HH","mm","ss"].forEach((function(e,o){t.includes(e)?t=t.replace(e,String(n[o]).padStart(2,"0")):n[o+1]+=n[o]*r[o]})),t.includes("S")){var o=String(n[n.length-1]).padStart(3,"0");t=t.includes("SSS")?t.replace("SSS",o):t.includes("SS")?t.replace("SS",o.slice(0,2)):t.replace("S",o.slice(0,1))}return t}var A=function(t,e){return null==t?e:t}},526:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2609),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,".var-ripple {\n  position: absolute;\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.1s cubic-bezier(0.4, 0, 0.2, 1);\n  top: 0;\n  left: 0;\n  border-radius: 50%;\n  opacity: 0;\n  will-change: transform, opacity;\n  pointer-events: none;\n  z-index: 100;\n}\n",""]);const i=o},4352:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2609),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,".var--box {\n  box-sizing: border-box;\n}\n.var--box * {\n  box-sizing: border-box;\n}\n.var--relative {\n  position: relative;\n}\n.var--absolute {\n  position: absolute;\n}\n.var--hidden {\n  overflow: hidden;\n}\n.var--lock {\n  overflow: hidden;\n}\n.var--block {\n  display: block;\n}\n.var--inline-block {\n  display: inline-block;\n}\n.var--flex {\n  display: flex;\n}\n.var--inline-flex {\n  display: inline-flex;\n}\n",""]);const i=o},3563:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2609),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,"\n.example[data-v-49923af4] {\n\tbackground: antiquewhite;\n}\n",""]);const i=o},1507:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2609),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,".var-image {\n  overflow: hidden;\n}\n.var-image__image {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n",""]);const i=o},2284:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(7875),o=(0,r.HX)("data-v-49923af4")((function(t,e,n,o,i,a){var l=(0,r.up)("var-image");return(0,r.wg)(),(0,r.j4)(r.HY,null,[(0,r.Wm)(l,{width:"200px",height:"400px",fit:"cover",loading:"https://cn.vuejs.org/images/logo.png",error:"https://cn.vuejs.org/images/logo.png",src:"https://cn.vuejs.org/images/logo.png",ripple:!0}),(0,r.Wm)(l,{width:"100px",height:"400px",fit:"cover",loading:"https://cn.vuejs.org/images/logo.png",error:"https://cn.vuejs.org/images/logo.png",src:"https://cn.vuejs.org/images/logo.png",ripple:!0,block:!1}),(0,r.Wm)(l,{width:"100px",height:"400px",fit:"cover",loading:"https://cn.vuejs.org/images/logo.png",error:"https://cn.vuejs.org/images/logo.png",src:"https://cn.vuejs.org/images/logo.png",ripple:!0,block:!1}),(0,r.Wm)(l,{width:"200px",height:"400px",fit:"cover",loading:"https://cn.vuejs.org/images/logo2222.png",error:"https://cn.vuejs.org/images/logo123123.png",src:"https://cn.vuejs.org/images/logo12312.png",ripple:!0,onLoad:t.handleLoad,onError:t.handleError},null,8,["onLoad","onError"])],64)})),i=n(1260),a=n.n(i),l={src:{type:String},fit:{type:String,validator:function(t){return["fill","contain","cover","none","scale-down"].includes(t)},default:"fill"},alt:{type:String},width:{type:String},height:{type:String},radius:{type:String,default:"0"},error:{type:String},loading:{type:String},ripple:{type:Boolean,default:!1},block:{type:Boolean,default:!0},onLoad:{type:Function},onError:{type:Function}},c=n(4793),u=n(2370);const s=(0,r.aZ)({name:"VarImage",directives:{Lazy:u.ZP,Ripple:c.Z},inheritAttrs:!1,props:l,setup:function(t){return{handleLoad:function(e){var n,r,o=e.currentTarget;"success"===o._lazy.state&&(null===(n=t.onLoad)||void 0===n||n.call(t,e,"success")),"error"===o._lazy.state&&(null===(r=t.onError)||void 0===r||r.call(t,e,"error"))},handleError:function(e){var n;"pending"!==e.currentTarget._lazy.state&&(null===(n=t.onError)||void 0===n||n.call(t,e,"native-error"))}}}});var d=n(6062),p=n.n(d),v=n(1507);p()(v.Z,{insert:"head",singleton:!1}),v.Z.locals,s.render=function(t,e,n,o,i,a){var l=(0,r.Q2)("lazy"),c=(0,r.Q2)("ripple");return(0,r.wy)(((0,r.wg)(),(0,r.j4)("div",{class:["var-image var--box",[t.block?null:"var--inline-block"]],style:{width:t.width,height:t.height,"border-radius":t.radius}},[(0,r.wy)((0,r.Wm)("img",(0,r.dG)({class:"var-image__image",alt:t.alt,"lazy-error":t.error,"lazy-loading":t.loading,style:{"object-fit":t.fit},onLoad:e[1]||(e[1]=function(){return t.handleLoad&&t.handleLoad.apply(t,arguments)}),onError:e[2]||(e[2]=function(){return t.handleError&&t.handleError.apply(t,arguments)})},t.$attrs),null,16,["alt","lazy-error","lazy-loading"]),[[l,t.src]])],6)),[[c,{disabled:!t.ripple}]])};const f=s;f.install=function(t){t.component(f.name,f)};const g=f,h=(0,r.aZ)({name:"ImageExample",components:a()({},g.name,g),setup:function(){return{handleLoad:function(t,e){console.log(t),console.log(e)},handleError:function(t,e){console.log(t),console.log(e)}}}});var m=n(3563);p()(m.Z,{insert:"head",singleton:!1}),m.Z.locals,h.render=o,h.__scopeId="data-v-49923af4";const y=h}}]);