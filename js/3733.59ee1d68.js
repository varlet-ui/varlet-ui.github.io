(self.webpackChunk_varlet_ui=self.webpackChunk_varlet_ui||[]).push([[3733],{6416:(n,e,t)=>{"use strict";t.d(e,{Z:()=>d});var a=t(7875),r=t(641),i=t(3145),u=t(8715);const o=(0,a.aZ)({name:"VarSwipeItem",inheritAttrs:!1,setup:function(){var n=(0,i.NB)(u.A),e=n.bindParent,t=n.parentProvider,a=(0,i.wn)(u.I).index;if(!e||!t||!a)throw Error("<var-swipe-item/> must in <var-swipe/>");var o=(0,r.iH)(0),l=t.size,c=t.vertical;return e({index:a,setTranslate:function(n){o.value=n}}),{size:l,vertical:c,translate:o}}});var l=t(6062),c=t.n(l),s=t(9291);c()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,o.render=function(n,e,t,r,i,u){return(0,a.wg)(),(0,a.j4)("div",(0,a.dG)({class:"var-swipe-item",style:{width:n.vertical?null:"".concat(n.size,"px"),height:n.vertical?"".concat(n.size,"px"):null,transform:"translate".concat(n.vertical?"Y":"X","(").concat(n.translate,"px)")}},n.$attrs),[(0,a.WI)(n.$slots,"default")],16)};const v=o;v.install=function(n){n.component(v.name,v)};const d=v},8715:(n,e,t)=>{"use strict";t.d(e,{A:()=>a,I:()=>r});var a=Symbol("SWIPE_BIND_SWIPE_ITEM_KEY"),r=Symbol("SWIPE_COUNT_SWIPE_ITEM_KEY")},7276:(n,e,t)=>{"use strict";t.d(e,{vF:()=>r,cx:()=>i,IS:()=>u,UD:()=>o,Ak:()=>l,ly:()=>c,i:()=>s,uA:()=>v,aR:()=>d,U7:()=>f,Wx:()=>p,xX:()=>h});var a=t(8322);function r(n){return n.getBoundingClientRect().top+(document.body.scrollTop||document.documentElement.scrollTop)}function i(n){var e="scrollTop"in n?n.scrollTop:n.pageYOffset;return Math.max(e,0)}function u(n){return n.getBoundingClientRect().left+(document.body.scrollLeft||document.documentElement.scrollLeft)}function o(n){var e=n.getBoundingClientRect(),t=e.top,a=e.bottom,r=e.left,i=e.right,u=r<window.innerWidth&&i>0,o=t<window.innerHeight&&a>0;return u&&o}function l(n,e){for(var t=n;t&&t.parentNode&&(t=t.parentNode)!==document.body&&t!==document.documentElement;){var a=/(scroll|auto)/,r=window.getComputedStyle(t),i=r.overflow,u=r.overflowX,o=r.overflowY,l=a.test(i),c=("x"===e||null==e)&&a.test(u),s=("y"===e||null==e)&&a.test(o);if(l||c||s)return t}return window}var c=function(n){return(0,a.HD)(n)&&n.endsWith("rem")},s=function(n){return(0,a.HD)(n)&&n.endsWith("px")||(0,a.hj)(n)},v=function(n){if((0,a.hj)(n))return n;if(s(n))return+n.replace("px","");if(c(n)){var e=+n.replace("rem",""),t=window.getComputedStyle(document.documentElement).fontSize;return e*parseFloat(t)}return 0},d=function(n){return null!=n?"".concat(v(n),"px"):null};function f(n){return window.requestAnimationFrame?window.requestAnimationFrame(n):window.setTimeout(n,16)}function p(n){window.cancelAnimationFrame?window.cancelAnimationFrame(n):window.clearTimeout(n)}function h(n){f((function(){f(n)}))}},8322:(n,e,t)=>{"use strict";t.d(e,{He:()=>a,QM:()=>r,MW:()=>i,JC:()=>u,HD:()=>o,hj:()=>l,KG:()=>c,kJ:()=>s,PX:()=>v,xb:()=>d,cl:()=>f,P2:()=>p,_G:()=>h,k_:()=>m,Df:()=>w,qb:()=>y,Ou:()=>b,dt:()=>k});var a=function(n){return o(n)?(n=parseFloat(n),n=Number.isNaN(n)?0:n):n},r=function(n){return n.startsWith("data:image")||/\.(png|jpg|gif|jpeg|svg)$/.test(n)},i=function(n){return n.startsWith("data:video")||/\.(mp4|webm)$/.test(n)},u=function(n){return n.startsWith("data:audio")||/\.(mp3|wav|ogg|acc)$/.test(n)},o=function(n){return"string"==typeof n},l=function(n){return"number"==typeof n},c=function(n){return"[object Object]"===Object.prototype.toString.call(n)},s=function(n){return Array.isArray(n)},v=function(n){return/^(http)|(\.*\/)/.test(n)},d=function(n){return null==n||""===n||Array.isArray(n)&&!n.length},f=function(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}},p=function(n){var e,t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function r(){for(var i=this,u=arguments.length,o=new Array(u),l=0;l<u;l++)o[l]=arguments[l];var c=Date.now();t||(t=c),e&&window.clearTimeout(e),c-t>=a?(n.apply(this,o),t=c):e=window.setTimeout((function(){r.apply(i,o)}),50)}},h=function(){return"IntersectionObserver"in window},m=function(n){return new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&n(e.target)}))}))},w=function(n){var e=[];return{cache:e,has:function(n){return e.includes(n)},add:function(t){this.has(t)||(this.cache.length===n&&e.shift(),this.cache.push(t))},remove:function(n){this.has(n)&&f(this.cache,n)}}},g=function(n){return Math.pow(n,3)},y=function(n){return n<.5?g(2*n)/2:1-g(2*(1-n))/2};function b(n,e){var t=Object.values(e),a=[24,60,60,1e3];if(["DD","HH","mm","ss"].forEach((function(e,r){n.includes(e)?n=n.replace(e,String(t[r]).padStart(2,"0")):t[r+1]+=t[r]*a[r]})),n.includes("S")){var r=String(t[t.length-1]).padStart(3,"0");n=n.includes("SSS")?n.replace("SSS",r):n.includes("SS")?n.replace("SS",r.slice(0,2)):n.replace("S",r.slice(0,1))}return n}var k=function(n,e){return null==n?e:n}},9291:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(2609),r=t.n(a)()((function(n){return n[1]}));r.push([n.id,".var-swipe-item {\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n}\n",""]);const i=r},8787:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(2609),r=t.n(a)()((function(n){return n[1]}));r.push([n.id,".var-swipe {\n  position: relative;\n  overflow: hidden;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.var-swipe__track {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  transition-property: transform;\n}\n.var-swipe__indicators {\n  position: absolute;\n  display: flex;\n  bottom: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.var-swipe__indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #fff;\n  opacity: 0.3;\n  margin: 0 4px;\n  transition: opacity 0.3s;\n}\n.var-swipe--vertical {\n  flex-direction: column;\n}\n.var-swipe--indicators-vertical {\n  flex-direction: column;\n  left: 10px;\n  bottom: 50%;\n  transform: translateY(50%);\n}\n.var-swipe--indicator-active {\n  opacity: 1;\n}\n.var-swipe--indicator-vertical {\n  margin: 4px 0;\n}\n",""]);const i=r},5411:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(2609),r=t.n(a)()((function(n){return n[1]}));r.push([n.id,".swipe[data-v-1de43b26] {\n  width: 100%;\n  height: 200px;\n  margin-bottom: 20px;\n}\n",""]);const i=r},3733:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>Y});var a=t(7875),r=(0,a.HX)("data-v-1de43b26");(0,a.dD)("data-v-1de43b26");var i=(0,a.Uk)("横着的"),u=(0,a.Uk)("0"),o=(0,a.Uk)("1"),l=(0,a.Uk)("2"),c=(0,a.Uk)("竖着的"),s=(0,a.Uk)("0"),v=(0,a.Uk)("1"),d=(0,a.Uk)("2"),f=(0,a.Uk)("下一页"),p=(0,a.Uk)("上一页"),h=(0,a.Uk)("跳转下标2");(0,a.Cn)();var m=r((function(n,e,t,m,w,g){var y=(0,a.up)("app-type"),b=(0,a.up)("var-swipe-item"),k=(0,a.up)("var-swipe"),x=(0,a.up)("var-button");return(0,a.wg)(),(0,a.j4)(a.HY,null,[(0,a.Wm)(y,null,{default:r((function(){return[i]})),_:1}),(0,a.Wm)(k,{class:"swipe",ref:"swipe","initial-index":2,autoplay:2e3,loop:!1},{default:r((function(){return[(0,a.Wm)(b,{style:{background:"red"}},{default:r((function(){return[u]})),_:1}),(0,a.Wm)(b,{style:{background:"yellow"}},{default:r((function(){return[o]})),_:1}),(0,a.Wm)(b,{style:{background:"grey"}},{default:r((function(){return[l]})),_:1})]})),_:1},512),(0,a.Wm)(y,null,{default:r((function(){return[c]})),_:1}),(0,a.Wm)(k,{class:"swipe",ref:"swipe",vertical:"","indicator-color":"rgb(33,150,243)",onChange:n.log},{default:r((function(){return[(0,a.Wm)(b,{style:{background:"red"}},{default:r((function(){return[s]})),_:1}),(0,a.Wm)(b,{style:{background:"yellow"}},{default:r((function(){return[v]})),_:1}),(0,a.Wm)(b,{style:{background:"grey"}},{default:r((function(){return[d]})),_:1})]})),_:1},8,["onChange"]),(0,a.Wm)(x,{onClick:e[1]||(e[1]=function(e){return n.swipe.next()})},{default:r((function(){return[f]})),_:1}),(0,a.Wm)(x,{onClick:e[2]||(e[2]=function(e){return n.swipe.prev()})},{default:r((function(){return[p]})),_:1}),(0,a.Wm)(x,{onClick:e[3]||(e[3]=function(e){return n.swipe.to(2)})},{default:r((function(){return[h]})),_:1})],64)})),w=t(1260),g=t.n(w),y=t(641),b=t(4825),k=t(3145),x=t(8715),_=t(7276),S={autoplay:{type:[String,Number]},duration:{type:[String,Number],default:300},initialIndex:{type:Number,default:0},loop:{type:Boolean,default:!0},indicator:{type:Boolean,default:!0},indicatorColor:{type:String},vertical:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},onChange:{type:Function}},T=t(8322);const W=(0,a.aZ)({name:"VarSwipe",inheritAttrs:!1,props:S,setup:function(n){var e,t,r,i,u,o=(0,k.$E)(x.A),l=o.bindChildren,c=o.childProviders,s=(0,k.nN)(x.I).length,v=(0,y.iH)(null),d=(0,y.iH)(0),f=(0,a.Fl)((function(){return n.vertical})),p=(0,y.iH)(0),h=(0,y.iH)(0),m=(0,y.iH)(!1),w=(0,y.iH)(0),g=!1,b=-1,S=function(n){return c.find((function(e){return e.index.value===n}))},W=function(e){var t=(0,T.hj)(e)?e:Math.floor((h.value-d.value/2)/-d.value);return t<=-1?n.loop?-1:0:t>=s.value?n.loop?s.value:s.value-1:t},C=function(e){return e<0?n.loop?s.value-1:0:e>s.value-1?n.loop?0:s.value-1:e},E=function(n){var e=h.value>=d.value,t=h.value<=-p.value,a=-(p.value-d.value);m.value=!0,(e||t)&&(m.value=!0,h.value=t?0:a,S(0).setTranslate(0),S(s.value-1).setTranslate(0)),(0,_.xX)((function(){m.value=!1,null==n||n()}))},H=function(){var e;if(!(s.value<=1)){var t=w.value;w.value=C(t+1),null===(e=n.onChange)||void 0===e||e.call(n,w.value),E((function(){if(t===s.value-1&&n.loop)return S(0).setTranslate(p.value),void(h.value=s.value*-d.value);t!==s.value-1&&(h.value=w.value*-d.value)}))}},I=function(){var e;if(!(s.value<=1)){var t=w.value;w.value=C(t-1),null===(e=n.onChange)||void 0===e||e.call(n,w.value),E((function(){if(0===t&&n.loop)return S(s.value-1).setTranslate(-p.value),void(h.value=d.value);0!==t&&(h.value=w.value*-d.value)}))}},A=function e(){!n.autoplay||s.value<=1||(Z(),b=window.setTimeout((function(){H(),e()}),Number(n.autoplay)))},Z=function(){b&&clearInterval(b)},j=function(){d.value=n.vertical?v.value.offsetHeight:v.value.offsetWidth,p.value=d.value*s.value,m.value=!0,w.value=C(n.initialIndex),h.value=w.value*-d.value,(0,_.xX)((function(){m.value=!1})),A()};return(0,a.YP)((function(){return s.value}),j),(0,a.Ah)(Z),l({size:d,vertical:f}),{length:s,index:w,swipeEl:v,trackSize:p,translate:h,lockDuration:m,handleTouchstart:function(a){if(!(s.value<=1)&&n.touchable){var i=a.touches[0],u=i.clientX,o=i.clientY;e=u,t=o,r=performance.now(),g=!0,Z(),E((function(){m.value=!0}))}},handleTouchmove:function(e){if(g){var t=e.touches[0],a=t.clientX,r=t.clientY,o=void 0!==i?a-i:0,l=void 0!==u?r-u:0;i=a,u=r,h.value+=n.vertical?l:o,n.loop&&(h.value>=0&&S(s.value-1).setTranslate(-p.value),h.value<=-(p.value-d.value)&&S(0).setTranslate(p.value),h.value>-(p.value-d.value)&&h.value<0&&(S(s.value-1).setTranslate(0),S(0).setTranslate(0)))}},handleTouchend:function(){var a;if(g){var o=n.vertical?u<t:i<e,l=n.vertical?Math.abs(t-u):Math.abs(e-i),c=performance.now()-r<=250&&l>=20?W(o?w.value+1:w.value-1):W();g=!1,m.value=!1,i=void 0,u=void 0,h.value=c*-d.value,w.value=function(e){return-1===e?n.loop?s.value-1:0:e===s.value?n.loop?0:s.value-1:e}(c),A(),null===(a=n.onChange)||void 0===a||a.call(n,w.value)}},next:H,prev:I,to:function(n){if(!(s.value<=1||n===w.value)){var e=(n=(n=n<0?0:n)>=s.value?s.value:n)>w.value?H:I;Array.from({length:Math.abs(n-w.value)}).forEach(e)}},resize:j}}});var C=t(6062),E=t.n(C),H=t(8787);E()(H.Z,{insert:"head",singleton:!1}),H.Z.locals,W.render=function(n,e,t,r,i,u){return(0,a.wg)(),(0,a.j4)("div",(0,a.dG)({class:"var-swipe",ref:"swipeEl"},n.$attrs),[(0,a.Wm)("div",{class:["var-swipe__track",[n.vertical?"var-swipe--vertical":null]],style:{width:n.vertical?null:"".concat(n.trackSize,"px"),height:n.vertical?"".concat(n.trackSize,"px"):null,transform:"translate".concat(n.vertical?"Y":"X","(").concat(n.translate,"px)"),transitionDuration:n.lockDuration?"0ms":"".concat(n.duration,"ms")},onTouchstart:e[1]||(e[1]=function(){return n.handleTouchstart&&n.handleTouchstart.apply(n,arguments)}),onTouchmove:e[2]||(e[2]=(0,b.iM)((function(){return n.handleTouchmove&&n.handleTouchmove.apply(n,arguments)}),["prevent"])),onTouchend:e[3]||(e[3]=function(){return n.handleTouchend&&n.handleTouchend.apply(n,arguments)})},[(0,a.WI)(n.$slots,"default")],38),n.indicator||n.length?((0,a.wg)(),(0,a.j4)("div",{key:0,class:["var-swipe__indicators",[n.vertical?"var-swipe--indicators-vertical":null]]},[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(n.length,(function(e,t){return(0,a.wg)(),(0,a.j4)("div",{class:["var-swipe__indicator",[n.index===t?"var-swipe--indicator-active":null,n.vertical?"var-swipe--indicator-vertical":null]],style:{background:n.indicatorColor},key:e,onClick:function(e){return n.to(t)}},null,14,["onClick"])})),128))],2)):(0,a.ry)("v-if",!0)],16)};const I=W;I.install=function(n){n.component(I.name,I)};const A=I;var Z,j=t(6416),U=t(7082);const D=(0,a.aZ)({name:"SwipeExample",components:(Z={},g()(Z,A.name,A),g()(Z,j.Z.name,j.Z),g()(Z,U.Z.name,U.Z),Z),setup:function(){return{swipe:(0,y.iH)(null),s:(0,y.iH)(!1),log:function(n){console.log(n)}}}});var N=t(5411);E()(N.Z,{insert:"head",singleton:!1}),N.Z.locals,D.render=m,D.__scopeId="data-v-1de43b26";const Y=D}}]);